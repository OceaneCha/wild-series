{% extends 'base.html.twig' %}


{% block title %}Wild Series{% endblock %}


{% block body %}

<div class="media">

        <img class="align-self-start mr-3" src="{{ vich_uploader_asset(program) }}" alt="{{ program.title }} poster">

        <div class="media-body">

            <h1 class="mt-0">{{ program.title }}</h1>

            <a id="watchlist" href="{{ path('program_watchlist', {slug: program.slug}) }}">
                <i class="bi {{ app.user.isInWatchlist(program) ? 'bi-heart-fill' : 'bi-heart' }}"></i>
            </a>

            <p>{{ program.synopsis }}</p>

            <p>Catégorie : {{ program.category.name }}</p>

            {% if not program.seasons is empty %}
                <ul>
                {% for season in program.seasons %}
                    <li><a href="{{ path('program_season_show', { slug: program.slug, season: season.id }) }}">Season {{season.number}}</a></li>
                {% endfor %}
                </ul>
            {% else %}
            <p>Aucune saison ! <a href="{{path('app_season_new')}}">Add one?</a></p>
            {% endif %}

            <strong>Actors:</strong>

            <ul>
                {% for actor in program.actors %}
                    <li><a href=" {{ path('actor_show', { id: actor.id }) }}">{{actor.name}}</a></li>
                {% else %}
                    <li>Aucun acteur pour cette série</li>
                {% endfor %}
            </ul>

            <strong>Durée totale : {{programDuration}}</strong>

            {% if is_granted("ROLE_ADMIN") %}
            <a href="{{ path('program_edit', { 'slug': program.slug} ) }}">Éditer</a>
            {% endif %}


        </div>

    </div>

{% endblock %}